begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  * Licensed to the Apache Software Foundation (ASF) under one  * or more contributor license agreements.  See the NOTICE file  * distributed with this work for additional information  * regarding copyright ownership.  The ASF licenses this file  * to you under the Apache License, Version 2.0 (the  * "License"); you may not use this file except in compliance  * with the License.  You may obtain a copy of the License at  *  *     http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_package
package|package
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hive
operator|.
name|ql
operator|.
name|plan
package|;
end_package

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|HashMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Map
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hive
operator|.
name|ql
operator|.
name|parse
operator|.
name|HiveParser
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hive
operator|.
name|ql
operator|.
name|security
operator|.
name|authorization
operator|.
name|Privilege
import|;
end_import

begin_enum
specifier|public
enum|enum
name|HiveOperation
block|{
name|EXPLAIN
argument_list|(
literal|"EXPLAIN"
argument_list|,
name|HiveParser
operator|.
name|TOK_EXPLAIN
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|LOAD
argument_list|(
literal|"LOAD"
argument_list|,
name|HiveParser
operator|.
name|TOK_LOAD
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|)
block|,
name|EXPORT
argument_list|(
literal|"EXPORT"
argument_list|,
name|HiveParser
operator|.
name|TOK_EXPORT
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|IMPORT
argument_list|(
literal|"IMPORT"
argument_list|,
name|HiveParser
operator|.
name|TOK_IMPORT
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|,
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|)
block|,
name|REPLDUMP
argument_list|(
literal|"REPLDUMP"
argument_list|,
name|HiveParser
operator|.
name|TOK_REPL_DUMP
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALL
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|REPLLOAD
argument_list|(
literal|"REPLLOAD"
argument_list|,
name|HiveParser
operator|.
name|TOK_REPL_LOAD
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALL
block|}
argument_list|)
block|,
name|REPLSTATUS
argument_list|(
literal|"REPLSTATUS"
argument_list|,
name|HiveParser
operator|.
name|TOK_REPL_STATUS
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|CREATEDATABASE
argument_list|(
literal|"CREATEDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATEDATABASE
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|CREATE
block|}
argument_list|)
block|,
name|DROPDATABASE
argument_list|(
literal|"DROPDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROPDATABASE
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|DROP
block|}
argument_list|)
block|,
name|SWITCHDATABASE
argument_list|(
literal|"SWITCHDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_SWITCHDATABASE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|LOCKDB
argument_list|(
literal|"LOCKDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_LOCKDB
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|LOCK
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|UNLOCKDB
argument_list|(
literal|"UNLOCKDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_UNLOCKDB
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|LOCK
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|DROPTABLE
argument_list|(
literal|"DROPTABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROPTABLE
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|DROP
block|}
argument_list|)
block|,
name|DESCTABLE
argument_list|(
literal|"DESCTABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_DESCTABLE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|DESCFUNCTION
argument_list|(
literal|"DESCFUNCTION"
argument_list|,
name|HiveParser
operator|.
name|TOK_DESCFUNCTION
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|MSCK
argument_list|(
literal|"MSCK"
argument_list|,
name|HiveParser
operator|.
name|TOK_MSCK
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_ADDCOLS
argument_list|(
literal|"ALTERTABLE_ADDCOLS"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_ADDCOLS
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_REPLACECOLS
argument_list|(
literal|"ALTERTABLE_REPLACECOLS"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_REPLACECOLS
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_RENAMECOL
argument_list|(
literal|"ALTERTABLE_RENAMECOL"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_RENAMECOL
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_RENAMEPART
argument_list|(
literal|"ALTERTABLE_RENAMEPART"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_RENAMEPART
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|DROP
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|CREATE
block|}
argument_list|)
block|,
name|ALTERTABLE_UPDATEPARTSTATS
argument_list|(
literal|"ALTERTABLE_UPDATEPARTSTATS"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_UPDATESTATS
block|,
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_UPDATECOLSTATS
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_UPDATETABLESTATS
argument_list|(
literal|"ALTERTABLE_UPDATETABLESTATS"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_ALTERTABLE_UPDATESTATS
block|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_UPDATECOLSTATS
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_RENAME
argument_list|(
literal|"ALTERTABLE_RENAME"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_RENAME
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_DROPPARTS
argument_list|(
literal|"ALTERTABLE_DROPPARTS"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_ALTERTABLE_DROPPARTS
block|,
name|HiveParser
operator|.
name|TOK_ALTERVIEW_DROPPARTS
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|DROP
block|}
argument_list|,
literal|null
argument_list|)
block|,
comment|// The location is input and table is output for alter-table add partitions
name|ALTERTABLE_ADDPARTS
argument_list|(
literal|"ALTERTABLE_ADDPARTS"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_ALTERTABLE_ADDPARTS
block|,
name|HiveParser
operator|.
name|TOK_ALTERVIEW_ADDPARTS
block|}
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|CREATE
block|}
argument_list|)
block|,
name|ALTERTABLE_TOUCH
argument_list|(
literal|"ALTERTABLE_TOUCH"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_TOUCH
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_ARCHIVE
argument_list|(
literal|"ALTERTABLE_ARCHIVE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_ARCHIVE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_UNARCHIVE
argument_list|(
literal|"ALTERTABLE_UNARCHIVE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_UNARCHIVE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_PROPERTIES
argument_list|(
literal|"ALTERTABLE_PROPERTIES"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_ALTERTABLE_PROPERTIES
block|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_DROPPROPERTIES
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_OWNER
argument_list|(
literal|"ALTERTABLE_OWNER"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_OWNER
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_SERIALIZER
argument_list|(
literal|"ALTERTABLE_SERIALIZER"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_SERIALIZER
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERPARTITION_SERIALIZER
argument_list|(
literal|"ALTERPARTITION_SERIALIZER"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_SERIALIZER
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_SERDEPROPERTIES
argument_list|(
literal|"ALTERTABLE_SERDEPROPERTIES"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_SERDEPROPERTIES
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERPARTITION_SERDEPROPERTIES
argument_list|(
literal|"ALTERPARTITION_SERDEPROPERTIES"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_SERDEPROPERTIES
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_CLUSTER_SORT
argument_list|(
literal|"ALTERTABLE_CLUSTER_SORT"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_CLUSTER_SORT
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ANALYZE_TABLE
argument_list|(
literal|"ANALYZE_TABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ANALYZE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|CACHE_METADATA
argument_list|(
literal|"CACHE_METADATA"
argument_list|,
name|HiveParser
operator|.
name|TOK_CACHE_METADATA
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_BUCKETNUM
argument_list|(
literal|"ALTERTABLE_BUCKETNUM"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_BUCKETS
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERPARTITION_BUCKETNUM
argument_list|(
literal|"ALTERPARTITION_BUCKETNUM"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_BUCKETS
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|SHOWDATABASES
argument_list|(
literal|"SHOWDATABASES"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWDATABASES
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SHOW_DATABASE
block|}
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOWTABLES
argument_list|(
literal|"SHOWTABLES"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWTABLES
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOWCOLUMNS
argument_list|(
literal|"SHOWCOLUMNS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWCOLUMNS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOW_TABLESTATUS
argument_list|(
literal|"SHOW_TABLESTATUS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_TABLESTATUS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOW_TBLPROPERTIES
argument_list|(
literal|"SHOW_TBLPROPERTIES"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_TBLPROPERTIES
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOW_CREATEDATABASE
argument_list|(
literal|"SHOW_CREATEDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_CREATEDATABASE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|SHOW_CREATETABLE
argument_list|(
literal|"SHOW_CREATETABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_CREATETABLE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|SHOWFUNCTIONS
argument_list|(
literal|"SHOWFUNCTIONS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWFUNCTIONS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOWPARTITIONS
argument_list|(
literal|"SHOWPARTITIONS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWPARTITIONS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|SHOWLOCKS
argument_list|(
literal|"SHOWLOCKS"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_SHOWLOCKS
block|,
name|HiveParser
operator|.
name|TOK_SHOWDBLOCKS
block|}
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOWCONF
argument_list|(
literal|"SHOWCONF"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWCONF
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|SHOWVIEWS
argument_list|(
literal|"SHOWVIEWS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWVIEWS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOWMATERIALIZEDVIEWS
argument_list|(
literal|"SHOWMATERIALIZEDVIEWS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOWMATERIALIZEDVIEWS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|CREATEFUNCTION
argument_list|(
literal|"CREATEFUNCTION"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATEFUNCTION
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|DROPFUNCTION
argument_list|(
literal|"DROPFUNCTION"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROPFUNCTION
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|RELOADFUNCTION
argument_list|(
literal|"RELOADFUNCTION"
argument_list|,
name|HiveParser
operator|.
name|TOK_RELOADFUNCTIONS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|CREATEMACRO
argument_list|(
literal|"CREATEMACRO"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATEMACRO
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|DROPMACRO
argument_list|(
literal|"DROPMACRO"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROPMACRO
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|CREATEVIEW
argument_list|(
literal|"CREATEVIEW"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATEVIEW
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|CREATE
block|}
argument_list|)
block|,
name|CREATE_MATERIALIZED_VIEW
argument_list|(
literal|"CREATE_MATERIALIZED_VIEW"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATE_MATERIALIZED_VIEW
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|CREATE
block|}
argument_list|)
block|,
name|DROPVIEW
argument_list|(
literal|"DROPVIEW"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROPVIEW
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|DROP
block|}
argument_list|)
block|,
name|DROP_MATERIALIZED_VIEW
argument_list|(
literal|"DROP_MATERIALIZED_VIEW"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROP_MATERIALIZED_VIEW
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|DROP
block|}
argument_list|)
block|,
name|ALTER_MATERIALIZED_VIEW_REWRITE
argument_list|(
literal|"ALTER_MATERIALIZED_VIEW_REWRITE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTER_MATERIALIZED_VIEW_REWRITE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERVIEW_PROPERTIES
argument_list|(
literal|"ALTERVIEW_PROPERTIES"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_ALTERVIEW_PROPERTIES
block|,
name|HiveParser
operator|.
name|TOK_ALTERVIEW_DROPPROPERTIES
block|}
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|LOCKTABLE
argument_list|(
literal|"LOCKTABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_LOCKTABLE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|LOCK
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|UNLOCKTABLE
argument_list|(
literal|"UNLOCKTABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_UNLOCKTABLE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|LOCK
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|CREATEROLE
argument_list|(
literal|"CREATEROLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATEROLE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|DROPROLE
argument_list|(
literal|"DROPROLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROPROLE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|GRANT_PRIVILEGE
argument_list|(
literal|"GRANT_PRIVILEGE"
argument_list|,
name|HiveParser
operator|.
name|TOK_GRANT
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|REVOKE_PRIVILEGE
argument_list|(
literal|"REVOKE_PRIVILEGE"
argument_list|,
name|HiveParser
operator|.
name|TOK_REVOKE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|SHOW_GRANT
argument_list|(
literal|"SHOW_GRANT"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_GRANT
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|GRANT_ROLE
argument_list|(
literal|"GRANT_ROLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_GRANT_ROLE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|REVOKE_ROLE
argument_list|(
literal|"REVOKE_ROLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_REVOKE_ROLE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|SHOW_ROLES
argument_list|(
literal|"SHOW_ROLES"
argument_list|,
operator|new
name|int
index|[]
block|{
name|HiveParser
operator|.
name|TOK_SHOW_ROLES
block|,
name|HiveParser
operator|.
name|TOK_SHOW_CURRENT_ROLE
block|,
name|HiveParser
operator|.
name|TOK_SET_ROLE
block|}
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOW_ROLE_PRINCIPALS
argument_list|(
literal|"SHOW_ROLE_PRINCIPALS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_ROLE_PRINCIPALS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOW_ROLE_GRANT
argument_list|(
literal|"SHOW_ROLE_GRANT"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_ROLE_GRANT
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|ALTERTABLE_FILEFORMAT
argument_list|(
literal|"ALTERTABLE_FILEFORMAT"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_FILEFORMAT
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERPARTITION_FILEFORMAT
argument_list|(
literal|"ALTERPARTITION_FILEFORMAT"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_FILEFORMAT
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_LOCATION
argument_list|(
literal|"ALTERTABLE_LOCATION"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_LOCATION
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERPARTITION_LOCATION
argument_list|(
literal|"ALTERPARTITION_LOCATION"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_LOCATION
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|CREATETABLE
argument_list|(
literal|"CREATETABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATETABLE
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|CREATE
block|}
argument_list|)
block|,
name|TRUNCATETABLE
argument_list|(
literal|"TRUNCATETABLE"
argument_list|,
name|HiveParser
operator|.
name|TOK_TRUNCATETABLE
argument_list|,
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|DROP
block|}
argument_list|)
block|,
name|CREATETABLE_AS_SELECT
argument_list|(
literal|"CREATETABLE_AS_SELECT"
argument_list|,
operator|(
name|int
index|[]
operator|)
literal|null
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|CREATE
block|}
argument_list|)
block|,
name|QUERY
argument_list|(
literal|"QUERY"
argument_list|,
name|HiveParser
operator|.
name|TOK_QUERY
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|,
name|Privilege
operator|.
name|CREATE
block|}
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|ALTERDATABASE
argument_list|(
literal|"ALTERDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERDATABASE_PROPERTIES
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERDATABASE_OWNER
argument_list|(
literal|"ALTERDATABASE_OWNER"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERDATABASE_OWNER
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERDATABASE_LOCATION
argument_list|(
literal|"ALTERDATABASE_LOCATION"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERDATABASE_LOCATION
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|DESCDATABASE
argument_list|(
literal|"DESCDATABASE"
argument_list|,
name|HiveParser
operator|.
name|TOK_DESCDATABASE
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_MERGEFILES
argument_list|(
literal|"ALTER_TABLE_MERGE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_MERGEFILES
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|)
block|,
name|ALTERPARTITION_MERGEFILES
argument_list|(
literal|"ALTER_PARTITION_MERGE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERPARTITION_MERGEFILES
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|)
block|,
name|ALTERTABLE_SKEWED
argument_list|(
literal|"ALTERTABLE_SKEWED"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_SKEWED
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTBLPART_SKEWED_LOCATION
argument_list|(
literal|"ALTERTBLPART_SKEWED_LOCATION"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_SKEWED_LOCATION
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_PARTCOLTYPE
argument_list|(
literal|"ALTERTABLE_PARTCOLTYPE"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_PARTCOLTYPE
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|)
block|,
name|ALTERTABLE_EXCHANGEPARTITION
argument_list|(
literal|"ALTERTABLE_EXCHANGEPARTITION"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_EXCHANGEPARTITION
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|,
name|Privilege
operator|.
name|DELETE
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|INSERT
block|}
argument_list|)
block|,
name|ALTERTABLE_DROPCONSTRAINT
argument_list|(
literal|"ALTERTABLE_DROPCONSTRAINT"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_DROPCONSTRAINT
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_ADDCONSTRAINT
argument_list|(
literal|"ALTERTABLE_ADDCONSTRAINT"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_ADDCONSTRAINT
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_UPDATECOLUMNS
argument_list|(
literal|"ALTERTABLE_UPDATECOLUMNS"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_UPDATECOLUMNS
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERVIEW_RENAME
argument_list|(
literal|"ALTERVIEW_RENAME"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERVIEW_RENAME
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERVIEW_AS
argument_list|(
literal|"ALTERVIEW_AS"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERVIEW
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_METADATA
block|}
argument_list|,
literal|null
argument_list|)
block|,
name|ALTERTABLE_COMPACT
argument_list|(
literal|"ALTERTABLE_COMPACT"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTERTABLE_COMPACT
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|SELECT
block|}
argument_list|,
operator|new
name|Privilege
index|[]
block|{
name|Privilege
operator|.
name|ALTER_DATA
block|}
argument_list|)
block|,
name|SHOW_COMPACTIONS
argument_list|(
literal|"SHOW COMPACTIONS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_COMPACTIONS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|SHOW_TRANSACTIONS
argument_list|(
literal|"SHOW TRANSACTIONS"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_TRANSACTIONS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|START_TRANSACTION
argument_list|(
literal|"START TRANSACTION"
argument_list|,
name|HiveParser
operator|.
name|TOK_START_TRANSACTION
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|COMMIT
argument_list|(
literal|"COMMIT"
argument_list|,
name|HiveParser
operator|.
name|TOK_COMMIT
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|true
argument_list|)
block|,
name|ROLLBACK
argument_list|(
literal|"ROLLBACK"
argument_list|,
name|HiveParser
operator|.
name|TOK_ROLLBACK
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|true
argument_list|)
block|,
name|SET_AUTOCOMMIT
argument_list|(
literal|"SET AUTOCOMMIT"
argument_list|,
name|HiveParser
operator|.
name|TOK_SET_AUTOCOMMIT
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|true
argument_list|,
literal|false
argument_list|)
block|,
name|ABORT_TRANSACTIONS
argument_list|(
literal|"ABORT TRANSACTIONS"
argument_list|,
name|HiveParser
operator|.
name|TOK_ABORT_TRANSACTIONS
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|KILL_QUERY
argument_list|(
literal|"KILL QUERY"
argument_list|,
name|HiveParser
operator|.
name|TOK_KILL_QUERY
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|)
block|,
name|CREATE_RESOURCEPLAN
argument_list|(
literal|"CREATE RESOURCEPLAN"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATE_RP
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|SHOW_RESOURCEPLAN
argument_list|(
literal|"SHOW RESOURCEPLAN"
argument_list|,
name|HiveParser
operator|.
name|TOK_SHOW_RP
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|ALTER_RESOURCEPLAN
argument_list|(
literal|"ALTER RESOURCEPLAN"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTER_RP
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|DROP_RESOURCEPLAN
argument_list|(
literal|"DROP RESOURCEPLAN"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROP_RP
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|CREATE_TRIGGER
argument_list|(
literal|"CREATE TRIGGER"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATE_TRIGGER
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|ALTER_TRIGGER
argument_list|(
literal|"ALTER TRIGGER"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTER_TRIGGER
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|DROP_TRIGGER
argument_list|(
literal|"DROP TRIGGER"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROP_TRIGGER
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|CREATE_POOL
argument_list|(
literal|"CREATE POOL"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATE_POOL
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|ALTER_POOL
argument_list|(
literal|"ALTER POOL"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTER_POOL
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|DROP_POOL
argument_list|(
literal|"DROP POOL"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROP_POOL
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|CREATE_MAPPING
argument_list|(
literal|"CREATE MAPPING"
argument_list|,
name|HiveParser
operator|.
name|TOK_CREATE_MAPPING
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|ALTER_MAPPING
argument_list|(
literal|"ALTER MAPPING"
argument_list|,
name|HiveParser
operator|.
name|TOK_ALTER_MAPPING
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|,
name|DROP_MAPPING
argument_list|(
literal|"DROP MAPPING"
argument_list|,
name|HiveParser
operator|.
name|TOK_DROP_MAPPING
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
block|;
specifier|private
specifier|final
name|String
name|operationName
decl_stmt|;
specifier|private
specifier|final
name|int
index|[]
name|tokens
decl_stmt|;
specifier|private
specifier|final
name|Privilege
index|[]
name|inputRequiredPrivileges
decl_stmt|;
specifier|private
specifier|final
name|Privilege
index|[]
name|outputRequiredPrivileges
decl_stmt|;
comment|/**    * Only a small set of operations is allowed inside an explicit transactions, e.g. DML on    * Acid tables or ops w/o persistent side effects like USE DATABASE, SHOW TABLES, etc so    * that rollback is meaningful    * todo: mark all operations appropriately    */
specifier|private
specifier|final
name|boolean
name|allowedInTransaction
decl_stmt|;
specifier|private
specifier|final
name|boolean
name|requiresOpenTransaction
decl_stmt|;
name|HiveOperation
parameter_list|(
name|String
name|operationName
parameter_list|,
name|int
name|token
parameter_list|,
name|Privilege
index|[]
name|inputRequiredPrivileges
parameter_list|,
name|Privilege
index|[]
name|outputRequiredPrivileges
parameter_list|)
block|{
name|this
argument_list|(
name|operationName
argument_list|,
operator|new
name|int
index|[]
block|{
name|token
block|}
argument_list|,
name|inputRequiredPrivileges
argument_list|,
name|outputRequiredPrivileges
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
expr_stmt|;
block|}
name|HiveOperation
parameter_list|(
name|String
name|operationName
parameter_list|,
name|int
index|[]
name|tokens
parameter_list|,
name|Privilege
index|[]
name|inputRequiredPrivileges
parameter_list|,
name|Privilege
index|[]
name|outputRequiredPrivileges
parameter_list|)
block|{
name|this
argument_list|(
name|operationName
argument_list|,
name|tokens
argument_list|,
name|inputRequiredPrivileges
argument_list|,
name|outputRequiredPrivileges
argument_list|,
literal|false
argument_list|,
literal|false
argument_list|)
expr_stmt|;
block|}
name|HiveOperation
parameter_list|(
name|String
name|operationName
parameter_list|,
name|int
name|token
parameter_list|,
name|Privilege
index|[]
name|inputRequiredPrivileges
parameter_list|,
name|Privilege
index|[]
name|outputRequiredPrivileges
parameter_list|,
name|boolean
name|allowedInTransaction
parameter_list|,
name|boolean
name|requiresOpenTransaction
parameter_list|)
block|{
name|this
argument_list|(
name|operationName
argument_list|,
operator|new
name|int
index|[]
block|{
name|token
block|}
argument_list|,
name|inputRequiredPrivileges
argument_list|,
name|outputRequiredPrivileges
argument_list|,
name|allowedInTransaction
argument_list|,
name|requiresOpenTransaction
argument_list|)
expr_stmt|;
block|}
name|HiveOperation
parameter_list|(
name|String
name|operationName
parameter_list|,
name|int
index|[]
name|tokens
parameter_list|,
name|Privilege
index|[]
name|inputRequiredPrivileges
parameter_list|,
name|Privilege
index|[]
name|outputRequiredPrivileges
parameter_list|,
name|boolean
name|allowedInTransaction
parameter_list|,
name|boolean
name|requiresOpenTransaction
parameter_list|)
block|{
name|this
operator|.
name|operationName
operator|=
name|operationName
expr_stmt|;
name|this
operator|.
name|tokens
operator|=
name|tokens
expr_stmt|;
name|this
operator|.
name|inputRequiredPrivileges
operator|=
name|inputRequiredPrivileges
expr_stmt|;
name|this
operator|.
name|outputRequiredPrivileges
operator|=
name|outputRequiredPrivileges
expr_stmt|;
name|this
operator|.
name|requiresOpenTransaction
operator|=
name|requiresOpenTransaction
expr_stmt|;
name|this
operator|.
name|allowedInTransaction
operator|=
name|allowedInTransaction
operator|||
name|requiresOpenTransaction
expr_stmt|;
block|}
specifier|public
name|String
name|getOperationName
parameter_list|()
block|{
return|return
name|operationName
return|;
block|}
specifier|public
name|Privilege
index|[]
name|getInputRequiredPrivileges
parameter_list|()
block|{
return|return
name|inputRequiredPrivileges
return|;
block|}
specifier|public
name|Privilege
index|[]
name|getOutputRequiredPrivileges
parameter_list|()
block|{
return|return
name|outputRequiredPrivileges
return|;
block|}
specifier|public
name|boolean
name|isAllowedInTransaction
parameter_list|()
block|{
return|return
name|allowedInTransaction
return|;
block|}
specifier|public
name|boolean
name|isRequiresOpenTransaction
parameter_list|()
block|{
return|return
name|requiresOpenTransaction
return|;
block|}
specifier|private
specifier|static
specifier|final
name|Map
argument_list|<
name|Integer
argument_list|,
name|HiveOperation
argument_list|>
name|TOKEN_TO_OPERATION
init|=
operator|new
name|HashMap
argument_list|<>
argument_list|()
decl_stmt|;
static|static
block|{
for|for
control|(
name|HiveOperation
name|hiveOperation
range|:
name|values
argument_list|()
control|)
block|{
if|if
condition|(
name|hiveOperation
operator|.
name|tokens
operator|!=
literal|null
condition|)
block|{
for|for
control|(
name|int
name|token
range|:
name|hiveOperation
operator|.
name|tokens
control|)
block|{
name|TOKEN_TO_OPERATION
operator|.
name|put
argument_list|(
name|token
argument_list|,
name|hiveOperation
argument_list|)
expr_stmt|;
block|}
block|}
block|}
block|}
specifier|public
specifier|static
name|HiveOperation
name|operationForToken
parameter_list|(
name|int
name|token
parameter_list|)
block|{
return|return
name|TOKEN_TO_OPERATION
operator|.
name|get
argument_list|(
name|token
argument_list|)
return|;
block|}
block|}
end_enum

end_unit

