<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.9">
<meta name="Forrest-skin-name" content="pelt">
<title>Command Line Interface</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat.jpg" title=""></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogoA1">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat-box.jpg" title="A table abstraction on top of data for use with java MapReduce programs, Pig scripts and Hive queryies."></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li class="current">
<a class="selected" href="index.html">HCatalog 0.4.0 Documentation</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">HCatalog</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html">Overview</a>
</div>
<div class="menuitem">
<a href="install.html">Installation From Tarball</a>
</div>
<div class="menuitem">
<a href="loadstore.html">Load &amp; Store Interfaces</a>
</div>
<div class="menuitem">
<a href="inputoutput.html">Input &amp; Output Interfaces </a>
</div>
<div class="menupage">
<div class="menupagetitle">Command Line Interface </div>
</div>
<div class="menuitem">
<a href="supportedformats.html">Storage Formats</a>
</div>
<div class="menuitem">
<a href="dynpartition.html">Dynamic Partitioning</a>
</div>
<div class="menuitem">
<a href="notification.html">Notification</a>
</div>
<div class="menuitem">
<a href="api/index.html">API Docs</a>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="cli.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>Command Line Interface</h1>
<div id="front-matter">
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Set+Up">Set Up</a>
</li>
<li>
<a href="#HCatalog+CLI">HCatalog CLI</a>
</li>
<li>
<a href="#HCatalog+DDL">HCatalog DDL</a>
<ul class="minitoc">
<li>
<a href="#Create%2FDrop%2FAlter+Table">Create/Drop/Alter Table</a>
</li>
<li>
<a href="#Create%2FDrop%2FAlter+View">Create/Drop/Alter View</a>
</li>
<li>
<a href="#Show%2FDescribe">Show/Describe </a>
</li>
<li>
<a href="#Create%2FDrop+Index">Create/Drop Index</a>
</li>
<li>
<a href="#Create%2FDrop+Function">Create/Drop Function</a>
</li>
<li>
<a href="#%22dfs%22+command+and+%22set%22+command">"dfs" command and "set" command</a>
</li>
<li>
<a href="#Other+Commands">Other Commands</a>
</li>
</ul>
</li>
</ul>
</div>
</div>

<!-- ==================================================================== -->

<a name="Set+Up"></a>
<h2 class="h3">Set Up</h2>
<div class="section">
<p>The HCatalog command line interface (CLI) can be invoked as
<span class="codefrag">HIVE_HOME=</span><em>hive_home hcat_home</em><span class="codefrag">/bin/hcat</span>
where <em>hive_home</em> is the directory where Hive has been installed and
<em>hcat_home</em> is the directory where HCatalog has been installed.</p>
<p>If you are using BigTop's rpms or debs you can invoke the CLI by doing
<span class="codefrag">/usr/bin/hcat</span>.</p>
</div>


<a name="HCatalog+CLI"></a>
<h2 class="h3">HCatalog CLI</h2>
<div class="section">
<p>The HCatalog CLI supports these command line options:</p>
<ul>

<li>
<strong>-g</strong>: Usage is -g mygroup .... This indicates to HCatalog that table that needs to be created must have group "mygroup" </li>

<li>
<strong>-p</strong>: Usage is -p rwxr-xr-x .... This indicates to HCatalog that table that needs to be created must have permissions "rwxr-xr-x" </li>

<li>
<strong>-f</strong>: Usage is -f myscript.hcatalog .... This indicates to HCatalog that myscript.hcatalog is a file which contains DDL commands it needs to execute. </li>

<li>
<strong>-e</strong>: Usage is -e 'create table mytable(a int);' .... This indicates to HCatalog to treat the following string as a DDL command and execute it. </li>

<li>
<strong>-D</strong>: Usage is -Dkey=value .... The key value pair is passed to HCatalog as a Java System Property.</li>

</ul>
<p></p>
<p>Note the following:</p>
<ul>

<li>The <strong>-g</strong> and <strong>-p</strong> options are not mandatory. 
</li>

<li>Only one of the <strong>-e</strong> or <strong>-f</strong> option can be provided, not both. 
</li>

<li>The order of options is immaterial; you can specify the options in any order. 
</li>

<li>If no option is provided, then a usage message is printed: 
<pre class="code">
Usage: hcat  { -e "&lt;query&gt;" | -f "&lt;filepath&gt;" } [-g "&lt;group&gt;" ] [-p "&lt;perms&gt;"] [-D "&lt;name&gt;=&lt;value&gt;"]
</pre>

</li>

</ul>
<p></p>
<p>
<strong>Assumptions</strong>
</p>
<p>When using the HCatalog CLI, you cannot specify a permission string without read permissions for owner, such as -wxrwxr-x. If such a permission setting is desired, you can use the octal version instead, which in this case would be 375. Also, any other kind of permission string where the owner has read permissions (for example r-x------ or r--r--r--) will work fine.</p>
</div>

<!-- ==================================================================== -->

<a name="HCatalog+DDL"></a>
<h2 class="h3">HCatalog DDL</h2>
<div class="section">
<p>HCatalog supports all <a href="http://wiki.apache.org/hadoop/Hive/LanguageManual/DDL">Hive Data Definition Language</a> except those operations that require running a MapReduce job. For commands that are supported, any variances are noted below.</p>
<p>HCatalog does not support the following Hive DDL commands:</p>
<ul>
     
<li>IMPORT FROM ...</li>
     
<li>EXPORT TABLE</li>
     
<li>CREATE TABLE ... AS SELECT</li> 
     
<li>ALTER TABLE ... REBUILD</li> 
     
<li>ALTER TABLE ... CONCATENATE</li>
     
<li>ANALYZE TABLE ... COMPUTE STATISTICS</li>
     
<li>ALTER TABLE ARCHIVE/UNARCHIVE PARTITION</li>
   
</ul>
<a name="Create%2FDrop%2FAlter+Table"></a>
<h3 class="h4">Create/Drop/Alter Table</h3>
<p>
<strong>CREATE TABLE</strong>
</p>
<p>If you create a table with a CLUSTERED BY clause you will not be able to write to it with Pig or MapReduce. This is because they do not understand how to partition the table, so attempting to write to it would cause data corruption.</p>
<p></p>
<p>
<strong>CREATE TABLE AS SELECT</strong>
</p>
<p>Not supported. Throws an exception with the message "Operation Not Supported". </p>
<p>
<strong>DROP TABLE</strong>
</p>
<p>Supported. Behavior the same as Hive.</p>
<p>
<strong>ALTER TABLE</strong>
</p>
<p>Supported except for the REBUILD and CONCATENATE options. Behavior the same as Hive.</p>
<p></p>
<a name="Create%2FDrop%2FAlter+View"></a>
<h3 class="h4">Create/Drop/Alter View</h3>
<p>Note: Pig and MapReduce coannot read from or write to views.</p>
<p>
<strong>CREATE VIEW</strong>
</p>
<p>Supported. Behavior same as Hive.</p>
<p>
<strong>DROP VIEW</strong>
</p>
<p>Supported. Behavior same as Hive.</p>
<p>
<strong>ALTER VIEW</strong>
</p>
<p>Supported. Behavior same as Hive.</p>
<a name="Show%2FDescribe"></a>
<h3 class="h4">Show/Describe </h3>
<p>
<strong>SHOW TABLES</strong>
</p>
<p>Supported. Behavior same as Hive.</p>
<p>
<strong>SHOW PARTITIONS</strong>
</p>
<p>Not supported. Throws an exception with message "Operation Not Supported". </p>
<p>
<strong>SHOW FUNCTIONS</strong>
</p>
<p>Supported. Behavior same as Hive.</p>
<p>
<strong>DESCRIBE</strong>
</p>
<p>Supported. Behavior same as Hive.</p>
<a name="Create%2FDrop+Index"></a>
<h3 class="h4">Create/Drop Index</h3>
<p>CREATE and DROP INDEX operations are supported.</p>
<p>Note: Pig and MapReduce cannot write to a table that has auto rebuild on, because Pig and MapReduce do not know how to rebuild the index.</p>
<a name="Create%2FDrop+Function"></a>
<h3 class="h4">Create/Drop Function</h3>
<p>CREATE and DROP FUNCTION operations are supported, but created functions must still be registered in Pig and placed in CLASSPATH for MapReduce.</p>
<a name="%22dfs%22+command+and+%22set%22+command"></a>
<h3 class="h4">"dfs" command and "set" command</h3>
<p>Supported. Behavior same as Hive.</p>
<a name="Other+Commands"></a>
<h3 class="h4">Other Commands</h3>
<p>Any command not listed above is NOT supported and throws an exception with the message "Operation Not Supported". </p>
</div>


<p>
<strong>Authentication</strong>
</p>

<table class="ForrestTable" cellspacing="1" cellpadding="4">
	
<tr>
	
<td colspan="1" rowspan="1">
<p>If a failure results in a message like "2010-11-03 16:17:28,225 WARN hive.metastore ... - Unable to connect metastore with URI thrift://..." in /tmp/&lt;username&gt;/hive.log, then make sure you have run "kinit &lt;username&gt;@FOO.COM" to get a Kerberos ticket and to be able to authenticate to the HCatalog server. </p>
</td>
	
</tr>

</table>

<p>If other errors occur while using the HCatalog CLI, more detailed messages are written to /tmp/&lt;username&gt;/hive.log. </p>



  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2011-2012 <a href="http://www.apache.org/licenses/">The Apache Software Foundation</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
