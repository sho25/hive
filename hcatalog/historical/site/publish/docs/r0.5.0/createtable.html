<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.9">
<meta name="Forrest-skin-name" content="pelt">
<title>PUT ddl/database/:db/table/:table</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat.jpg" title=""></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogoA1">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat-box.jpg" title="A table abstraction on top of data for use with java MapReduce programs, Pig scripts and Hive queryies."></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li class="current">
<a class="selected" href="index.html">HCatalog 0.5.0 Documentation</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">HCatalog</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html">Overview</a>
</div>
<div class="menuitem">
<a href="install.html">Installation From Tarball</a>
</div>
<div class="menuitem">
<a href="loadstore.html">Load &amp; Store Interfaces</a>
</div>
<div class="menuitem">
<a href="inputoutput.html">Input &amp; Output Interfaces</a>
</div>
<div class="menuitem">
<a href="readerwriter.html">Reader &amp; Writer Interfaces</a>
</div>
<div class="menuitem">
<a href="cli.html">Command Line Interface</a>
</div>
<div class="menuitem">
<a href="supportedformats.html">Storage Formats</a>
</div>
<div class="menuitem">
<a href="dynpartition.html">Dynamic Partitioning</a>
</div>
<div class="menuitem">
<a href="notification.html">Notification</a>
</div>
<div class="menuitem">
<a href="authorization.html">Authorization</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.11', 'skin/')" id="menu_selected_1.1.11Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">WebHCat</div>
<div id="menu_selected_1.1.11" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="rest.html">Overview</a>
</div>
<div class="menuitem">
<a href="rest_server_install.html">Installation</a>
</div>
<div class="menuitem">
<a href="configuration.html">Configuration</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.11.4', 'skin/')" id="menu_selected_1.1.11.4Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">Reference</div>
<div id="menu_selected_1.1.11.4" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="resources.html">Resource List</a>
</div>
<div class="menuitem">
<a href="responsetypes.html">:version</a>
</div>
<div class="menuitem">
<a href="status.html">status</a>
</div>
<div class="menuitem">
<a href="versions.html">version</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.11.4.5', 'skin/')" id="menu_selected_1.1.11.4.5Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">ddl</div>
<div id="menu_selected_1.1.11.4.5" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="ddlsummary.html">ddl (summary)</a>
</div>
<div class="menuitem">
<a href="ddl.html">ddl</a>
</div>
<div class="menuitem">
<a href="listdbs.html">database</a>
</div>
<div class="menuitem">
<a href="descdb.html">:db (GET)</a>
</div>
<div class="menuitem">
<a href="createdb.html">:db (PUT)</a>
</div>
<div class="menuitem">
<a href="deletedb.html">:db (DELETE)</a>
</div>
<div class="menuitem">
<a href="listtables.html">table</a>
</div>
<div class="menuitem">
<a href="desctable.html">:table (GET)</a>
</div>
<div class="menupage">
<div class="menupagetitle">:table (PUT)</div>
</div>
<div class="menuitem">
<a href="renametable.html">:table (POST)</a>
</div>
<div class="menuitem">
<a href="deletetable.html">:table (DELETE)</a>
</div>
<div class="menuitem">
<a href="createtablelike.html">like/:table (PUT)</a>
</div>
<div class="menuitem">
<a href="listpartitions.html">partition</a>
</div>
<div class="menuitem">
<a href="descpartition.html">:partition (GET)</a>
</div>
<div class="menuitem">
<a href="createpartition.html">:partition (PUT)</a>
</div>
<div class="menuitem">
<a href="deletepartition.html">:partition (DELETE)</a>
</div>
<div class="menuitem">
<a href="listcolumns.html">column</a>
</div>
<div class="menuitem">
<a href="desccolumn.html">:column (GET)</a>
</div>
<div class="menuitem">
<a href="createcolumn.html">:column (PUT)</a>
</div>
<div class="menuitem">
<a href="listproperties.html">property</a>
</div>
<div class="menuitem">
<a href="descproperty.html">:property (GET)</a>
</div>
<div class="menuitem">
<a href="addproperty.html">:property (PUT)</a>
</div>
</div>
<div class="menuitem">
<a href="mapreducestreaming.html">mapreduce/streaming</a>
</div>
<div class="menuitem">
<a href="mapreducejar.html">mapreduce/jar</a>
</div>
<div class="menuitem">
<a href="pig.html">pig</a>
</div>
<div class="menuitem">
<a href="hive.html">hive</a>
</div>
<div class="menuitem">
<a href="queuelist.html">queue</a>
</div>
<div class="menuitem">
<a href="queue.html">:jobid (GET)</a>
</div>
<div class="menuitem">
<a href="queuedelete.html">:jobid (DELETE)</a>
</div>
</div>
</div>
<div class="menuitem">
<a href="api/index.html">API Docs</a>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="createtable.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>PUT ddl/database/:db/table/:table</h1>
<div id="front-matter">
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Description">Description</a>
</li>
<li>
<a href="#URL">URL</a>
</li>
<li>
<a href="#Parameters">Parameters</a>
</li>
<li>
<a href="#Results">Results</a>
</li>
<li>
<a href="#Example">Example</a>
</li>
</ul>
</div>
</div>
  
<a name="Description"></a>
<h2 class="h3">Description</h2>
<div class="section">
<p>Create a new HCatalog table. For more information, please refer to the
     <a href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable">Hive documentation.</a>
</p>
</div>

  
<a name="URL"></a>
<h2 class="h3">URL</h2>
<div class="section">
<p>
<span class="codefrag">http://</span>www.myserver.com<span class="codefrag">/templeton/v1/ddl/database/</span>:db<span class="codefrag">/table/</span>:table</p>
</div>

  
<a name="Parameters"></a>
<h2 class="h3">Parameters</h2>
<div class="section">
<table class="ForrestTable" cellspacing="1" cellpadding="4">
    
<tr>
<th colspan="1" rowspan="1">Name</th><th colspan="1" rowspan="1">Description</th><th colspan="1" rowspan="1">Required?</th><th colspan="1" rowspan="1">Default</th>
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>:db</strong></td>
        <td colspan="1" rowspan="1">The database name</td>
        <td colspan="1" rowspan="1">Required</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>:table</strong></td>
        <td colspan="1" rowspan="1">The new table name</td>
        <td colspan="1" rowspan="1">Required</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>group</strong></td>
        <td colspan="1" rowspan="1">The user group to use when creating a table</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>permissions</strong></td>
        <td colspan="1" rowspan="1">The permissions string to use when creating a table.</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>external</strong></td>
        <td colspan="1" rowspan="1">Allows you to specify a location so that Hive does not use the default
            location for this table.</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">false</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>ifNotExists</strong></td>
        <td colspan="1" rowspan="1">If true, you will not receive an error if the table already exists.</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">false</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>comment</strong></td>
        <td colspan="1" rowspan="1">Comment for the table</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>columns</strong></td>
        <td colspan="1" rowspan="1">A list of column descriptions, including name, type, and an optional comment.</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>partitionedBy</strong></td>
        <td colspan="1" rowspan="1">A list of column descriptions used to partition the table.  Like the columns
          parameter this is a list of name, type, and comment fields.</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>clusteredBy</strong></td>
        <td colspan="1" rowspan="1">An object describing how to cluster the table including the parameters
         columnNames, sortedBy, numberOfBuckets.  The sortedBy parameter includes
         the parameters columnName and order.  For further information
         please refer to the examples below or to the
         <a href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable">
         Hive documentation.</a></td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>format</strong></td>
        <td colspan="1" rowspan="1">Storage format description including paraeters for rowFormat, storedAs
         and storedBy.  For further information please refer to the examples below or to the
         <a href="https://cwiki.apache.org/Hive/languagemanual-ddl.html#LanguageManualDDL-CreateTable">
         Hive documentation.</a></td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>location</strong></td>
        <td colspan="1" rowspan="1">The HDFS path</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>tableProperties</strong></td>
        <td colspan="1" rowspan="1">A list of table property names and values (key/value pairs)</td>
        <td colspan="1" rowspan="1">Optional</td>
        <td colspan="1" rowspan="1">None</td>
    
</tr>

    
</table>
</div>

  
<a name="Results"></a>
<h2 class="h3">Results</h2>
<div class="section">
<table class="ForrestTable" cellspacing="1" cellpadding="4">
    
<tr>
<th colspan="1" rowspan="1">Name</th><th colspan="1" rowspan="1">Description</th>
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>table</strong></td>
        <td colspan="1" rowspan="1">The new table name</td>
    
</tr>

    
<tr>
<td colspan="1" rowspan="1"><strong>database</strong></td>
        <td colspan="1" rowspan="1">The database name</td>
    
</tr>

    
</table>
</div>

  
<a name="Example"></a>
<h2 class="h3">Example</h2>
<div class="section">
<p>
<strong>Curl Command</strong>
</p>
<pre class="code">
% curl -s -X PUT -HContent-type:application/json -d '{
 "comment": "Best table made today",
 "columns": [
   { "name": "id", "type": "bigint" },
   { "name": "price", "type": "float", "comment": "The unit price" } ],
 "partitionedBy": [
   { "name": "country", "type": "string" } ],
 "format": { "storedAs": "rcfile" } }' \
 'http://localhost:50111/templeton/v1/ddl/database/default/table/test_table?user.name=ctdean'
</pre>
<p>
<strong>Curl Command (using clusteredBy)</strong>
</p>
<pre class="code">
% curl -s -X PUT -HContent-type:application/json -d '{
  "comment": "Best table made today",
  "columns": [
    { "name": "id", "type": "bigint"},
    { "name": "price", "type": "float", "comment": "The unit price" } ],
  "partitionedBy": [
    { "name": "country", "type": "string" } ],
  "clusteredBy": {
    "columnNames": ["id"],
    "sortedBy": [
      { "columnName": "id", "order": "ASC" } ],
    "numberOfBuckets": 10 },
  "format": {
    "storedAs": "rcfile",
    "rowFormat": {
      "fieldsTerminatedBy": "\u0001",
      "serde": {
        "name": "org.apache.hadoop.hive.serde2.columnar.ColumnarSerDe",
        "properties": {
          "key": "value" } } } }
  } ' \
  'http://localhost:50111/templeton/v1/ddl/database/default/table/test_table_c?user.name=ctdean'
</pre>
<p>
<strong>JSON Output</strong>
</p>
<pre class="code">
{
 "table": "test_table",
 "database": "default"
}
</pre>
<p>
<strong>JSON Output (error)</strong>
</p>
<pre class="code">
{
  "statement": "use default; create table test_table_c(id bigint, price float comment ...",
  "error": "unable to create table: test_table_c",
  "exec": {
    "stdout": "",
    "stderr": "WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated...
        Hive history file=/tmp/ctdean/hive_job_log_ctdean_201204051335_2016086186.txt
        SLF4J: Class path contains multiple SLF4J bindings.
        SLF4J: Found binding in ...
        SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
        OK
        Time taken: 0.448 seconds
        FAILED: Error in semantic analysis: Operation not supported. HCatalog doesn't allow Clustered By in create table.
        ",
    "exitcode": 10
  }
}
</pre>
</div>
 
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2012-2013 <a href="http://www.apache.org/licenses/">The Apache Software Foundation</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
