<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.9">
<meta name="Forrest-skin-name" content="pelt">
<title>Load and Store Interfaces</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat.jpg" title=""></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogoA1">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat-box.jpg" title="A table abstraction on top of data for use with java MapReduce programs, Pig scripts and Hive queryies."></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li class="current">
<a class="selected" href="index.html">HCatalog 0.5.0 Documentation</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">HCatalog</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html">Overview</a>
</div>
<div class="menuitem">
<a href="install.html">Installation From Tarball</a>
</div>
<div class="menupage">
<div class="menupagetitle">Load &amp; Store Interfaces</div>
</div>
<div class="menuitem">
<a href="inputoutput.html">Input &amp; Output Interfaces</a>
</div>
<div class="menuitem">
<a href="readerwriter.html">Reader &amp; Writer Interfaces</a>
</div>
<div class="menuitem">
<a href="cli.html">Command Line Interface</a>
</div>
<div class="menuitem">
<a href="supportedformats.html">Storage Formats</a>
</div>
<div class="menuitem">
<a href="dynpartition.html">Dynamic Partitioning</a>
</div>
<div class="menuitem">
<a href="notification.html">Notification</a>
</div>
<div class="menuitem">
<a href="authorization.html">Authorization</a>
</div>
<div onclick="SwitchMenu('menu_1.1.11', 'skin/')" id="menu_1.1.11Title" class="menutitle">WebHCat</div>
<div id="menu_1.1.11" class="menuitemgroup">
<div class="menuitem">
<a href="rest.html">Overview</a>
</div>
<div class="menuitem">
<a href="rest_server_install.html">Installation</a>
</div>
<div class="menuitem">
<a href="configuration.html">Configuration</a>
</div>
<div onclick="SwitchMenu('menu_1.1.11.4', 'skin/')" id="menu_1.1.11.4Title" class="menutitle">Reference</div>
<div id="menu_1.1.11.4" class="menuitemgroup">
<div class="menuitem">
<a href="resources.html">Resource List</a>
</div>
<div class="menuitem">
<a href="responsetypes.html">:version</a>
</div>
<div class="menuitem">
<a href="status.html">status</a>
</div>
<div class="menuitem">
<a href="versions.html">version</a>
</div>
<div onclick="SwitchMenu('menu_1.1.11.4.5', 'skin/')" id="menu_1.1.11.4.5Title" class="menutitle">ddl</div>
<div id="menu_1.1.11.4.5" class="menuitemgroup">
<div class="menuitem">
<a href="ddlsummary.html">ddl (summary)</a>
</div>
<div class="menuitem">
<a href="ddl.html">ddl</a>
</div>
<div class="menuitem">
<a href="listdbs.html">database</a>
</div>
<div class="menuitem">
<a href="descdb.html">:db (GET)</a>
</div>
<div class="menuitem">
<a href="createdb.html">:db (PUT)</a>
</div>
<div class="menuitem">
<a href="deletedb.html">:db (DELETE)</a>
</div>
<div class="menuitem">
<a href="listtables.html">table</a>
</div>
<div class="menuitem">
<a href="desctable.html">:table (GET)</a>
</div>
<div class="menuitem">
<a href="createtable.html">:table (PUT)</a>
</div>
<div class="menuitem">
<a href="renametable.html">:table (POST)</a>
</div>
<div class="menuitem">
<a href="deletetable.html">:table (DELETE)</a>
</div>
<div class="menuitem">
<a href="createtablelike.html">like/:table (PUT)</a>
</div>
<div class="menuitem">
<a href="listpartitions.html">partition</a>
</div>
<div class="menuitem">
<a href="descpartition.html">:partition (GET)</a>
</div>
<div class="menuitem">
<a href="createpartition.html">:partition (PUT)</a>
</div>
<div class="menuitem">
<a href="deletepartition.html">:partition (DELETE)</a>
</div>
<div class="menuitem">
<a href="listcolumns.html">column</a>
</div>
<div class="menuitem">
<a href="desccolumn.html">:column (GET)</a>
</div>
<div class="menuitem">
<a href="createcolumn.html">:column (PUT)</a>
</div>
<div class="menuitem">
<a href="listproperties.html">property</a>
</div>
<div class="menuitem">
<a href="descproperty.html">:property (GET)</a>
</div>
<div class="menuitem">
<a href="addproperty.html">:property (PUT)</a>
</div>
</div>
<div class="menuitem">
<a href="mapreducestreaming.html">mapreduce/streaming</a>
</div>
<div class="menuitem">
<a href="mapreducejar.html">mapreduce/jar</a>
</div>
<div class="menuitem">
<a href="pig.html">pig</a>
</div>
<div class="menuitem">
<a href="hive.html">hive</a>
</div>
<div class="menuitem">
<a href="queuelist.html">queue</a>
</div>
<div class="menuitem">
<a href="queue.html">:jobid (GET)</a>
</div>
<div class="menuitem">
<a href="queuedelete.html">:jobid (DELETE)</a>
</div>
</div>
</div>
<div class="menuitem">
<a href="api/index.html">API Docs</a>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="loadstore.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>Load and Store Interfaces</h1>
<div id="front-matter">
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Set+Up">Set Up</a>
</li>
<li>
<a href="#HCatLoader">HCatLoader</a>
<ul class="minitoc">
<li>
<a href="#Usage">Usage</a>
</li>
<li>
<a href="#HCatalog+Data+Types">HCatalog Data Types</a>
</li>
<li>
<a href="#Running+Pig+with+HCatalog">Running Pig with HCatalog</a>
</li>
<li>
<a href="#Load+Examples">Load Examples</a>
</li>
</ul>
</li>
<li>
<a href="#HCatStorer">HCatStorer</a>
<ul class="minitoc">
<li>
<a href="#Usage-N1026B">Usage</a>
</li>
<li>
<a href="#Store+Examples">Store Examples</a>
</li>
<li>
<a href="#HCatalog+Data+Types-N102AE">HCatalog Data Types</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
 
 <!-- ==================================================================== --> 
  
<a name="Set+Up"></a>
<h2 class="h3">Set Up</h2>
<div class="section">
<p>The HCatLoader and HCatStorer interfaces are used with Pig scripts to read
and write data in HCatalog-managed tables. No HCatalog-specific setup is
required for these interfaces.</p>
</div>

<!-- ==================================================================== -->

<a name="HCatLoader"></a>
<h2 class="h3">HCatLoader</h2>
<div class="section">
<p>HCatLoader is used with Pig scripts to read data from HCatalog-managed tables.</p>
<a name="Usage"></a>
<h3 class="h4">Usage</h3>
<p>HCatLoader is accessed via a Pig load statement.</p>
<pre class="code">
A = LOAD 'tablename' USING org.apache.hcatalog.pig.HCatLoader(); 
</pre>
<p>
<strong>Assumptions</strong>
</p>
<p>You must specify the table name in single quotes: LOAD 'tablename'.
If you are using a non-default database you must specify your input as
'dbname.tablename'. If you are using Pig 0.9.2 or earlier, you must create
your database and table prior to running the Pig script. Beginning with
Pig 0.10 you can issue these create commands in Pig using the SQL command.</p>
<p>The Hive metastore lets you create tables without specifying a database;
if you created tables this way, then the database name is 'default' and is not
required when specifying the table for HCatLoader.</p>
<p>If the table is partitioned, you can indicate which partitions to scan by
immediately following the load statement with a partition filter statement
(see <strong>Load Examples</strong> below).</p>
<a name="HCatalog+Data+Types"></a>
<h3 class="h4">HCatalog Data Types</h3>
<p>Restrictions apply to the types of columns HCatLoader can read from HCatalog-managed tables.</p>
<p>HCatLoader can read <em><strong>only</strong></em> the data types listed in the table below.
The table shows how Pig will interpret the HCatalog data type.</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
    
<tr>
        
<th colspan="1" rowspan="1">
           
<p class="center">Primitives</p>
        
</th>
        <th colspan="1" rowspan="1">
           
<p class="center"> 
</p>
        
</th>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">
<strong>HCatalog Data Type</strong>
</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">
<strong>Pig Data Type</strong>
</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">int</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">int</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">long</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">long</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">float</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">float</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">double</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">double</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">string</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">chararray</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">boolean</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">boolean</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">binary</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">bytearray</p>
        
</td>
    
</tr>

</table>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
    
<tr>
        
<th colspan="1" rowspan="1">
           
<p class="center">Complex Types</p>
        
</th>
        <th colspan="1" rowspan="1">
           
<p class="center"></p>
        
</th>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">
<strong>HCatalog Data Type</strong>
</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">
<strong>Pig Data Type</strong>
</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">map<br>(key type should be string)</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">map </p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">List<em>&lt;any type&gt;</em> 
</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">bag </p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">struct<em>&lt;any type fields&gt;</em> 
</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">tuple </p>
        
</td>
    
</tr>
 
</table>
<p>
<br>
</p>
<a name="Running+Pig+with+HCatalog"></a>
<h3 class="h4">Running Pig with HCatalog</h3>
<p>Pig does not automatically pick up HCatalog jars. To bring in the necessary
jars, you can either use a flag in the <span class="codefrag">pig</span> command or set the
environment variables PIG_CLASSPATH and PIG_OPTS as described below.</p>
<p>
<strong>The -useHCatalog Flag</strong>
</p>
<p>To bring in the appropriate jars for working with HCatalog,
simply include the following flag:</p>
<pre class="code">
pig -useHCatalog
</pre>
<p>
<strong>Jars and Configuration Files</strong>
</p>
<p>For Pig commands that omit <span class="codefrag">-useHCatalog</span>, you need to
tell Pig where to find your HCatalog jars and the Hive jars used by the
HCatalog client. To do this, you must define the environment variable
PIG_CLASSPATH with the appropriate jars.</p>
<p>HCatalog can tell you the jars it needs. In order to do this
it needs to know where Hadoop and Hive are installed.
Also, you need to tell Pig the URI
for your metastore, in the PIG_OPTS variable.</p>
<p>In the case where you have installed Hadoop and HCatalog via tar,
you can do this:</p>
<pre class="code">
export HADOOP_HOME=&lt;path_to_hadoop_install&gt;

export HCAT_HOME=&lt;path_to_hcat_install&gt;

export HIVE_HOME=&lt;path_to_hive_install&gt;

export PIG_CLASSPATH=$HCAT_HOME/share/hcatalog/hcatalog-*.jar:\
$HIVE_HOME/lib/hive-metastore-*.jar:$HIVE_HOME/lib/libthrift-*.jar:\
$HIVE_HOME/lib/hive-exec-*.jar:$HIVE_HOME/lib/libfb303-*.jar:\
$HIVE_HOME/lib/jdo2-api-*-ec.jar:$HIVE_HOME/conf:$HADOOP_HOME/conf:\
$HIVE_HOME/lib/slf4j-api-*.jar

export PIG_OPTS=-Dhive.metastore.uris=thrift://&lt;hostname&gt;:&lt;port&gt;
</pre>
<p>Or you can pass the jars in your command line:</p>
<pre class="code">
&lt;path_to_pig_install&gt;/bin/pig -Dpig.additional.jars=\
$HCAT_HOME/share/hcatalog/hcatalog-*.jar:\
$HIVE_HOME/lib/hive-metastore-*.jar:$HIVE_HOME/lib/libthrift-*.jar:\
$HIVE_HOME/lib/hive-exec-*.jar:$HIVE_HOME/lib/libfb303-*.jar:\
$HIVE_HOME/lib/jdo2-api-*-ec.jar:$HIVE_HOME/lib/slf4j-api-*.jar  &lt;script.pig&gt;
</pre>
<p>The version number found in each filepath will be substituted for <span class="codefrag">*</span>. For example, HCatalog release 0.5.0 uses these jars and conf files:</p>
<ul>
    
<li>
<span class="codefrag">$HCAT_HOME/share/hcatalog/hcatalog-core-0.5.0.jar</span>
</li>
    
<li>
<span class="codefrag">$HCAT_HOME/share/hcatalog/hcatalog-pig-adapter-0.5.0.jar</span>
</li>
    
<li>
<span class="codefrag">$HIVE_HOME/lib/hive-metastore-0.10.0.jar</span>
</li>
    
<li>
<span class="codefrag">$HIVE_HOME/lib/libthrift-0.7.0.jar</span>
</li>
    
<li>
<span class="codefrag">$HIVE_HOME/lib/hive-exec-0.10.0.jar</span>
</li>
    
<li>
<span class="codefrag">$HIVE_HOME/lib/libfb303-0.7.0.jar</span>
</li>
    
<li>
<span class="codefrag">$HIVE_HOME/lib/jdo2-api-2.3-ec.jar</span>
</li>
    
<li>
<span class="codefrag">$HIVE_HOME/conf</span>
</li>
    
<li>
<span class="codefrag">$HADOOP_HOME/conf</span>
</li>
    
<li>
<span class="codefrag">$HIVE_HOME/lib/slf4j-api-1.6.1.jar</span>
</li>

</ul>
<p>
<strong>Authentication</strong>
</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
    
<tr>
    
<td colspan="1" rowspan="1">
<p>If you are using a secure cluster and a failure results in a message
like "2010-11-03 16:17:28,225 WARN hive.metastore ... - Unable to connect
metastore with URI thrift://..." in /tmp/&lt;username&gt;/hive.log, then make
sure you have run "kinit &lt;username&gt;@FOO.COM" to get a Kerberos ticket
and to be able to authenticate to the HCatalog server.</p>
</td>
    
</tr>

</table>
<a name="Load+Examples"></a>
<h3 class="h4">Load Examples</h3>
<p>This load statement will load all partitions of the specified table.</p>
<pre class="code">
/* myscript.pig */
A = LOAD 'tablename' USING org.apache.hcatalog.pig.HCatLoader(); 
...
...
</pre>
<p>If only some partitions of the specified table are needed, include a
partition filter statement <strong><em>immediately</em></strong> following the
load statement in the data flow. (In the script, however, a filter statement
might not immediately follow its load statement.) The filter statement can
include conditions on partition as well as non-partition columns.</p>
<pre class="code">
/* myscript.pig */
A = LOAD 'tablename' USING  org.apache.hcatalog.pig.HCatLoader();

-- date is a partition column; age is not
B = filter A by date == '20100819' and age &lt; 30; 

-- both date and country are partition columns
C = filter A by date == '20100819' and country == 'US'; 
...
...
</pre>
<p>To scan a whole table, for example:</p>
<pre class="code">
a = load 'student_data' using org.apache.hcatalog.pig.HCatLoader();
b = foreach a generate name, age;
</pre>
<p>Notice that the schema is automatically provided to Pig; there's no need to
declare name and age as fields, as if you were loading from a file.</p>
<p>To scan a single partition of the table web_logs partitioned by the column
datestamp, for example:</p>
<pre class="code">
a = load 'web_logs' using org.apache.hcatalog.pig.HCatLoader();
b = filter a by datestamp == '20110924';
</pre>
<p>Pig will push the datestamp filter shown here to HCatalog, so that HCatalog knows to just scan the partition where
datestamp = '20110924'. You can combine this filter with others via 'and':</p>
<pre class="code">
a = load 'web_logs' using org.apache.hcatalog.pig.HCatLoader();
b = filter a by datestamp == '20110924' and user is not null;
</pre>
<p>Pig will split the above filter, pushing the datestamp portion to HCatalog
and retaining the '<span class="codefrag">user is not null</span>' part to apply itself.
You can also give a more complex filter to retrieve a set of partitions.</p>
<p>
<strong>Filter Operators</strong>
</p>
<p>A filter can contain the operators 'and', 'or', '()', '==', '!=', '&lt;', '&gt;', '&lt;='
and '&gt;='.</p>
<p>For example:</p>
<pre class="code">
a = load 'web_logs' using org.apache.hcatalog.pig.HCatLoader();
b = filter a by datestamp &gt; '20110924';
</pre>
<p>A complex filter can have various combinations of operators, such as:</p>
<pre class="code">
a = load 'web_logs' using org.apache.hcatalog.pig.HCatLoader();
b = filter a by datestamp == '20110924' or datestamp == '20110925';
</pre>
<p>These two examples have the same effect:</p>
<pre class="code">
a = load 'web_logs' using org.apache.hcatalog.pig.HCatLoader();
b = filter a by datestamp &gt;= '20110924' and datestamp &lt;= '20110925';
</pre>
<pre class="code">
a = load 'web_logs' using org.apache.hcatalog.pig.HCatLoader();
b = filter a by datestamp &lt;= '20110925' and datestamp &gt;= '20110924';
</pre>
</div> 

<!-- ==================================================================== -->

<a name="HCatStorer"></a>
<h2 class="h3">HCatStorer</h2>
<div class="section">
<p>HCatStorer is used with Pig scripts to write data to HCatalog-managed tables.</p>
<a name="Usage-N1026B"></a>
<h3 class="h4">Usage</h3>
<p>HCatStorer is accessed via a Pig store statement.</p>
<pre class="code">
A = LOAD ...
B = FOREACH A ...
...
...
my_processed_data = ...

STORE my_processed_data INTO 'tablename'
   USING org.apache.hcatalog.pig.HCatStorer();
</pre>
<p>
<strong>Assumptions</strong>
</p>
<p>You must specify the table name in single quotes: LOAD 'tablename'. Both the database and table must be created prior to running your Pig script. If you are using a non-default database you must specify your input as 'dbname.tablename'. If you are using Pig 0.9.2 or earlier, you must create your database and table prior to running the Pig script. Beginning with Pig 0.10 you can issue these create commands in Pig using the SQL command. </p>
<p>The Hive metastore lets you create tables without specifying a database; if you created
tables this way, then the database name is 'default' and you do not need to specify the
database name in the store statement. </p>
<p>For the USING clause, you can have a string argument that represents key/value pairs
for partition. This is a mandatory argument when you are writing to a partitioned table
and the partition column is not in the output column. The values for partition keys
should <em>NOT</em> be quoted.</p>
<p>If partition columns are present in data they need not be specified as a STORE argument. Instead HCatalog will use these values to place records in the appropriate partition(s). It is valid to specify some partition keys in the STORE statement and have other partition keys in the data.</p>
<p></p>
<p></p>
<a name="Store+Examples"></a>
<h3 class="h4">Store Examples</h3>
<p>You can write to a non-partitioned table simply by using HCatStorer.  The contents of the table will be overwritten:</p>
<pre class="code">store z into 'web_data' using org.apache.hcatalog.pig.HCatStorer();</pre>
<p>To add one new partition to a partitioned table, specify the partition value in the store function. Pay careful
attention to the quoting, as the whole string must be single quoted and separated with an equals sign:</p>
<pre class="code">store z into 'web_data' using org.apache.hcatalog.pig.HCatStorer('datestamp=20110924');</pre>
<p>To write into multiple partitions at once, make sure that the partition column is present in your data, then call
HCatStorer with no argument:</p>
<pre class="code">store z into 'web_data' using org.apache.hcatalog.pig.HCatStorer(); 
  -- datestamp must be a field in the relation z</pre>
<a name="HCatalog+Data+Types-N102AE"></a>
<h3 class="h4">HCatalog Data Types</h3>
<p>Restrictions apply to the types of columns HCatStorer can write to HCatalog-managed tables.</p>
<p>HCatStorer can write <em><strong>only</strong></em> the data types listed in the table.
The table shows how Pig will interpret the HCatalog data type.</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
    
<tr>
        
<th colspan="1" rowspan="1">
           
<p class="center">Primitives</p>
        
</th>
        <th colspan="1" rowspan="1">
           
<p class="center"> 
</p>
        
</th>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">
<strong>Pig Data Type</strong>
</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">
<strong>HCatalog Data Type</strong>
</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">int</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">int</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">long</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">long</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">float</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">float</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">double</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">double</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">chararray</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">string</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">boolean</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">boolean</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">bytearray</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">binary</p>
        
</td>
    
</tr>

</table>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
    
<tr>
        
<th colspan="1" rowspan="1">
           
<p class="center">Complex Types</p>
        
</th>
        <th colspan="1" rowspan="1">
           
<p class="center"> 
</p>
        
</th>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">
<strong>Pig Data Type</strong>
</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">
<strong>HCatalog Data Type</strong>
</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">map</p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">map<br>(key type should be string)</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">bag </p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">List<em>&lt;any type&gt;</em> 
</p>
        
</td>
    
</tr>
    
<tr>
        
<td colspan="1" rowspan="1">
           
<p class="cell">tuple </p>
        
</td>
        <td colspan="1" rowspan="1">
           
<p class="cell">struct<em>&lt;any type fields&gt;</em> 
</p>
        
</td>
    
</tr>
 
</table>
<p>
<br>
</p>
</div>

  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2012-2013 <a href="http://www.apache.org/licenses/">The Apache Software Foundation</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
