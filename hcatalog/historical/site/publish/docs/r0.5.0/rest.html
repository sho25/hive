<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.9">
<meta name="Forrest-skin-name" content="pelt">
<title>HCatalog REST API </title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat.jpg" title=""></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogoA1">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat-box.jpg" title="A table abstraction on top of data for use with java MapReduce programs, Pig scripts and Hive queryies."></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li class="current">
<a class="selected" href="index.html">HCatalog 0.5.0 Documentation</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">HCatalog</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html">Overview</a>
</div>
<div class="menuitem">
<a href="install.html">Installation From Tarball</a>
</div>
<div class="menuitem">
<a href="loadstore.html">Load &amp; Store Interfaces</a>
</div>
<div class="menuitem">
<a href="inputoutput.html">Input &amp; Output Interfaces</a>
</div>
<div class="menuitem">
<a href="readerwriter.html">Reader &amp; Writer Interfaces</a>
</div>
<div class="menuitem">
<a href="cli.html">Command Line Interface</a>
</div>
<div class="menuitem">
<a href="supportedformats.html">Storage Formats</a>
</div>
<div class="menuitem">
<a href="dynpartition.html">Dynamic Partitioning</a>
</div>
<div class="menuitem">
<a href="notification.html">Notification</a>
</div>
<div class="menuitem">
<a href="authorization.html">Authorization</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.11', 'skin/')" id="menu_selected_1.1.11Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">WebHCat</div>
<div id="menu_selected_1.1.11" class="selectedmenuitemgroup" style="display: block;">
<div class="menupage">
<div class="menupagetitle">Overview</div>
</div>
<div class="menuitem">
<a href="rest_server_install.html">Installation</a>
</div>
<div class="menuitem">
<a href="configuration.html">Configuration</a>
</div>
<div onclick="SwitchMenu('menu_1.1.11.4', 'skin/')" id="menu_1.1.11.4Title" class="menutitle">Reference</div>
<div id="menu_1.1.11.4" class="menuitemgroup">
<div class="menuitem">
<a href="resources.html">Resource List</a>
</div>
<div class="menuitem">
<a href="responsetypes.html">:version</a>
</div>
<div class="menuitem">
<a href="status.html">status</a>
</div>
<div class="menuitem">
<a href="versions.html">version</a>
</div>
<div onclick="SwitchMenu('menu_1.1.11.4.5', 'skin/')" id="menu_1.1.11.4.5Title" class="menutitle">ddl</div>
<div id="menu_1.1.11.4.5" class="menuitemgroup">
<div class="menuitem">
<a href="ddlsummary.html">ddl (summary)</a>
</div>
<div class="menuitem">
<a href="ddl.html">ddl</a>
</div>
<div class="menuitem">
<a href="listdbs.html">database</a>
</div>
<div class="menuitem">
<a href="descdb.html">:db (GET)</a>
</div>
<div class="menuitem">
<a href="createdb.html">:db (PUT)</a>
</div>
<div class="menuitem">
<a href="deletedb.html">:db (DELETE)</a>
</div>
<div class="menuitem">
<a href="listtables.html">table</a>
</div>
<div class="menuitem">
<a href="desctable.html">:table (GET)</a>
</div>
<div class="menuitem">
<a href="createtable.html">:table (PUT)</a>
</div>
<div class="menuitem">
<a href="renametable.html">:table (POST)</a>
</div>
<div class="menuitem">
<a href="deletetable.html">:table (DELETE)</a>
</div>
<div class="menuitem">
<a href="createtablelike.html">like/:table (PUT)</a>
</div>
<div class="menuitem">
<a href="listpartitions.html">partition</a>
</div>
<div class="menuitem">
<a href="descpartition.html">:partition (GET)</a>
</div>
<div class="menuitem">
<a href="createpartition.html">:partition (PUT)</a>
</div>
<div class="menuitem">
<a href="deletepartition.html">:partition (DELETE)</a>
</div>
<div class="menuitem">
<a href="listcolumns.html">column</a>
</div>
<div class="menuitem">
<a href="desccolumn.html">:column (GET)</a>
</div>
<div class="menuitem">
<a href="createcolumn.html">:column (PUT)</a>
</div>
<div class="menuitem">
<a href="listproperties.html">property</a>
</div>
<div class="menuitem">
<a href="descproperty.html">:property (GET)</a>
</div>
<div class="menuitem">
<a href="addproperty.html">:property (PUT)</a>
</div>
</div>
<div class="menuitem">
<a href="mapreducestreaming.html">mapreduce/streaming</a>
</div>
<div class="menuitem">
<a href="mapreducejar.html">mapreduce/jar</a>
</div>
<div class="menuitem">
<a href="pig.html">pig</a>
</div>
<div class="menuitem">
<a href="hive.html">hive</a>
</div>
<div class="menuitem">
<a href="queuelist.html">queue</a>
</div>
<div class="menuitem">
<a href="queue.html">:jobid (GET)</a>
</div>
<div class="menuitem">
<a href="queuedelete.html">:jobid (DELETE)</a>
</div>
</div>
</div>
<div class="menuitem">
<a href="api/index.html">API Docs</a>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="rest.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>HCatalog REST API </h1>
<div id="front-matter">
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Introduction">Introduction </a>
</li>
<li>
<a href="#URL+format">URL format </a>
</li>
<li>
<a href="#Security">Security </a>
<ul class="minitoc">
<li>
<a href="#Standard+Parameters">Standard Parameters </a>
</li>
<li>
<a href="#Security+Error+Response">Security Error Response</a>
</li>
</ul>
</li>
<li>
<a href="#WebHDFS+and+Code+Push">WebHDFS and Code Push</a>
</li>
<li>
<a href="#Error+Codes+and+Responses">Error Codes and Responses</a>
</li>
<li>
<a href="#Log+Files">Log Files</a>
</li>
<li>
<a href="#Project+Name">Project Name</a>
</li>
</ul>
</div>
</div>

   
<a name="Introduction"></a>
<h2 class="h3">Introduction </h2>
<div class="section">
<p>This document describes HCatalog REST API.
        As shown in the figure below, developers make HTTP requests to access
        <a href="http://hadoop.apache.org/mapreduce/">Hadoop MapReduce</a>,
        <a href="http://pig.apache.org/">Pig</a>,
        <a href="http://hive.apache.org/">Hive</a>, and
        <a href="http://incubator.apache.org/hcatalog/docs/r0.2.0/cli.html">
        HCatalog DDL</a> from within applications.
        Data and code used by this API is maintained in
        <a href="http://hadoop.apache.org/hdfs/">HDFS</a>.  HCatalog DDL commands
        are executed directly when requested.
        MapReduce, Pig, and Hive jobs are placed in queue by
        and can be monitored for progress or stopped as required.
        Developers specify a location
        in HDFS into which Pig, Hive, and MapReduce results should be placed.</p>
<div style="text-align: center;">
<img class="figure" alt="Templeton Architecture" src="images/TempletonArch.jpg"></div>
</div>

    
<a name="URL+format"></a>
<h2 class="h3">URL format </h2>
<div class="section">
<p>HCatalog's REST resources are accessed using the following URL format:</p>
<p>
<span class="codefrag">http://</span><em>yourserver</em><span class="codefrag">/templeton/v1/</span><em>resource</em>
</p>
<p>where "<em>yourserver</em>" is replaced with your server name, and
          "<em>resource</em>" is replaced by the HCatalog
          resource name.</p>
<p>For example, to check if the server is running you could
          access the following URL:</p>
<p>
<span class="codefrag">http://www.myserver.com/templeton/v1/status</span>
</p>
</div>

   
<a name="Security"></a>
<h2 class="h3">Security </h2>
<div class="section">
<p>The current version supports two types of security:</p>
<ul>
       
<li>Default security (without additional authentication)</li>
       
<li>Authentication via
           <a href="http://web.mit.edu/kerberos/">Kerberos</a>
</li>
       
</ul>
<a name="Standard+Parameters"></a>
<h3 class="h4">Standard Parameters </h3>
<p>Every REST resource can accept the following parameters to
         aid in authentication: </p>
<ul>
         
<li>user.name: The user name as a string.
             Only valid when using default security. </li>
         
<li>SPNEGO credentials: When running with Kerberos authentication. </li>
         
</ul>
<a name="Security+Error+Response"></a>
<h3 class="h4">Security Error Response</h3>
<p>If the user.name parameter is not supplied when required, 
        the following error will be returned: </p>
<pre class="code">
{
  "error": "No user found.  Missing user.name parameter."
}
</pre>
</div>

   
<a name="WebHDFS+and+Code+Push"></a>
<h2 class="h3">WebHDFS and Code Push</h2>
<div class="section">
<p>Data and code that are used by HCatalog's REST resources must first be placed in
         Hadoop.  When placing files into HDFS is required you can use
         whatever method is most convienient for you.  We suggest WebHDFS since it provides
         a REST interface for moving files into and out of HDFS.</p>
</div>

   
<a name="Error+Codes+and+Responses"></a>
<h2 class="h3">Error Codes and Responses</h2>
<div class="section">
<p>The server returns the following HTTP status codes.</p>
<ul>
        
<li>
<strong>200 OK:</strong> Success!</li>
        
<li>
<strong>400 Bad Request:</strong> The request was invalid.</li>
        
<li>
<strong>401 Unauthorized:</strong> Credentials were missing or incorrect.</li>
        
<li>
<strong>404 Not Found:</strong> The URI requested is invalid or the
                    resource requested does not exist.</li>
        
<li>
<strong>500 Internal Server Error:</strong> We received an unexpected result.</li>
        
<li>
<strong>503 Busy, please retry:</strong> The server is busy.</li>
        
</ul>
<p>Other data returned directly by the server is returned in JSON format.
         JSON responses are limited to 1MB in size.  Responses over this limit must be
         stored into HDFS using provided options instead of being directly returned.
         If an HCatalog DDL command might return results greater than 1MB, it's
         suggested that a corresponding Hive request be executed instead.</p>
</div>

   
<a name="Log+Files"></a>
<h2 class="h3">Log Files</h2>
<div class="section">
<p>The server creates three log files when in operation:</p>
<ul>
       
<li>
<strong>templeton.log</strong> is the log4j log.  This the main log the application
        writes to.</li>
       
<li>
<strong>templeton-console.log</strong> is what Java writes to stdout when the server is
        started.  It is a small amount of data, similar to "hcat.out".</li>
       
<li>
<strong>tempelton-console-error.log</strong> is what Java writes to stderr, similar to
        "hcat.err".</li>
       
</ul>
<p>In the tempelton-log4j.properties file you can set the location of these logs using the
        variable templeton.log.dir.  This log4j.properties file is set in the server startup script.</p>
</div>

   
<a name="Project+Name"></a>
<h2 class="h3">Project Name</h2>
<div class="section">
<p>The original work to add REST APIs to HCatalog was called Templeton.  For backward compatibility
       the name still appears in URLs, log file names, etc.  The Templeton name is taken from a character
       in the award-winning children's novel Charlotte's Web, by E. B. White.  The novel's protagonist is a pig named
       Wilber.  Templeton is a rat who helps Wilber by running errands and making deliveries as 
       requested by Charlotte while spinning her web.</p>
</div>
  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2012-2013 <a href="http://www.apache.org/licenses/">The Apache Software Foundation</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
