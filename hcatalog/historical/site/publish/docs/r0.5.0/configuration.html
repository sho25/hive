<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.9">
<meta name="Forrest-skin-name" content="pelt">
<title>Configuration</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat.jpg" title=""></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogoA1">
<a href=""><img class="logoImage" alt="HCatalog" src="images/hcat-box.jpg" title="A table abstraction on top of data for use with java MapReduce programs, Pig scripts and Hive queryies."></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li class="current">
<a class="selected" href="index.html">HCatalog 0.5.0 Documentation</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">HCatalog</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html">Overview</a>
</div>
<div class="menuitem">
<a href="install.html">Installation From Tarball</a>
</div>
<div class="menuitem">
<a href="loadstore.html">Load &amp; Store Interfaces</a>
</div>
<div class="menuitem">
<a href="inputoutput.html">Input &amp; Output Interfaces</a>
</div>
<div class="menuitem">
<a href="readerwriter.html">Reader &amp; Writer Interfaces</a>
</div>
<div class="menuitem">
<a href="cli.html">Command Line Interface</a>
</div>
<div class="menuitem">
<a href="supportedformats.html">Storage Formats</a>
</div>
<div class="menuitem">
<a href="dynpartition.html">Dynamic Partitioning</a>
</div>
<div class="menuitem">
<a href="notification.html">Notification</a>
</div>
<div class="menuitem">
<a href="authorization.html">Authorization</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.11', 'skin/')" id="menu_selected_1.1.11Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">WebHCat</div>
<div id="menu_selected_1.1.11" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="rest.html">Overview</a>
</div>
<div class="menuitem">
<a href="rest_server_install.html">Installation</a>
</div>
<div class="menupage">
<div class="menupagetitle">Configuration</div>
</div>
<div onclick="SwitchMenu('menu_1.1.11.4', 'skin/')" id="menu_1.1.11.4Title" class="menutitle">Reference</div>
<div id="menu_1.1.11.4" class="menuitemgroup">
<div class="menuitem">
<a href="resources.html">Resource List</a>
</div>
<div class="menuitem">
<a href="responsetypes.html">:version</a>
</div>
<div class="menuitem">
<a href="status.html">status</a>
</div>
<div class="menuitem">
<a href="versions.html">version</a>
</div>
<div onclick="SwitchMenu('menu_1.1.11.4.5', 'skin/')" id="menu_1.1.11.4.5Title" class="menutitle">ddl</div>
<div id="menu_1.1.11.4.5" class="menuitemgroup">
<div class="menuitem">
<a href="ddlsummary.html">ddl (summary)</a>
</div>
<div class="menuitem">
<a href="ddl.html">ddl</a>
</div>
<div class="menuitem">
<a href="listdbs.html">database</a>
</div>
<div class="menuitem">
<a href="descdb.html">:db (GET)</a>
</div>
<div class="menuitem">
<a href="createdb.html">:db (PUT)</a>
</div>
<div class="menuitem">
<a href="deletedb.html">:db (DELETE)</a>
</div>
<div class="menuitem">
<a href="listtables.html">table</a>
</div>
<div class="menuitem">
<a href="desctable.html">:table (GET)</a>
</div>
<div class="menuitem">
<a href="createtable.html">:table (PUT)</a>
</div>
<div class="menuitem">
<a href="renametable.html">:table (POST)</a>
</div>
<div class="menuitem">
<a href="deletetable.html">:table (DELETE)</a>
</div>
<div class="menuitem">
<a href="createtablelike.html">like/:table (PUT)</a>
</div>
<div class="menuitem">
<a href="listpartitions.html">partition</a>
</div>
<div class="menuitem">
<a href="descpartition.html">:partition (GET)</a>
</div>
<div class="menuitem">
<a href="createpartition.html">:partition (PUT)</a>
</div>
<div class="menuitem">
<a href="deletepartition.html">:partition (DELETE)</a>
</div>
<div class="menuitem">
<a href="listcolumns.html">column</a>
</div>
<div class="menuitem">
<a href="desccolumn.html">:column (GET)</a>
</div>
<div class="menuitem">
<a href="createcolumn.html">:column (PUT)</a>
</div>
<div class="menuitem">
<a href="listproperties.html">property</a>
</div>
<div class="menuitem">
<a href="descproperty.html">:property (GET)</a>
</div>
<div class="menuitem">
<a href="addproperty.html">:property (PUT)</a>
</div>
</div>
<div class="menuitem">
<a href="mapreducestreaming.html">mapreduce/streaming</a>
</div>
<div class="menuitem">
<a href="mapreducejar.html">mapreduce/jar</a>
</div>
<div class="menuitem">
<a href="pig.html">pig</a>
</div>
<div class="menuitem">
<a href="hive.html">hive</a>
</div>
<div class="menuitem">
<a href="queuelist.html">queue</a>
</div>
<div class="menuitem">
<a href="queue.html">:jobid (GET)</a>
</div>
<div class="menuitem">
<a href="queuedelete.html">:jobid (DELETE)</a>
</div>
</div>
</div>
<div class="menuitem">
<a href="api/index.html">API Docs</a>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="configuration.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>Configuration</h1>
<div id="front-matter">
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Variables">Variables</a>
</li>
</ul>
</div>
</div>
  
<p>The configuration for Templeton merges the normal Hadoop configuration with
     the Templeton specific variables.  Because Templeton is designed to connect services
     that are not normally connected, the configuration is more complex than might be
     desirable.</p>

  
<p>The Templeton specific configuration is split into two layers:</p>

  
<ol>
   
<li>
<strong>webhcat-default.xml</strong> - All the configuration variables
    that Templeton needs. This file sets the defaults that ship with Templeton and
    should only be changed by Templeton developers. Do not copy this file and/or
    change it to maintain local installation settings. Because webhcat-default.xml
    is present in the Templeton war file, editing a local copy of it will not change the
    configuration.</li>

   
<li>
<strong>webhcat-site.xml</strong> - The (possibly empty) configuration
    file in which the system administrator can set variables for their Hadoop cluster.
    Create this file and maintain entries in it for configuration variables
    that require you to override default values based on your local installation.</li>
  
</ol>

  
<p>The configuration files are loaded in this order with later files overriding
     earlier ones.</p>

  
<p>
<strong>Note:</strong> the Templeton server will require restart
     after any change to the configuration.</p>

  
<p>To find the configuration files, Templeton first attempts to load a file from the
     <span class="codefrag">CLASSPATH</span> and then looks in the directory specified in the
     <span class="codefrag">TEMPLETON_HOME</span> environment variable.</p>

  
<p>Configuration files may access the special environment variable
     <span class="codefrag">env</span> for all environment variables. For example, the pig executable
     could be specified using:</p>


<pre class="code">
${env.PIG_HOME}/bin/pig
</pre>

  
<p>Configuration variables that use a filesystem path try to have reasonable defaults.
     However, it's always safe to specify the full and complete path if there is any
     uncertainty.</p>

  
<p>
<strong>Note:</strong> The location of the log files created by Templeton and some other properties
     of the logging system are set in the webhcat-log4j.properties file.</p>

  
<a name="Variables"></a>
<h2 class="h3">Variables</h2>
<div class="section">
<table class="ForrestTable" cellspacing="1" cellpadding="4">
  
<tr>
<th colspan="1" rowspan="1">Name</th><th colspan="1" rowspan="1">Default</th><th colspan="1" rowspan="1">Description</th>
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.port</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">50111</span></td>
    <td colspan="1" rowspan="1">The HTTP port for the main server.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hadoop.config.dir</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">$(env.HADOOP_CONFIG_DIR)</span></td>
    <td colspan="1" rowspan="1">The path to the Hadoop configuration.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.jar</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">${env.TEMPLETON_HOME}/share/webhcat/svr/webhcat-0.5.0-SNAPSHOT.jar</span></td>
    <td colspan="1" rowspan="1">The path to the Templeton jar file.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.libjars</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">${env.TEMPLETON_HOME}/share/webhcat/svr/lib/zookeeper-3.4.3.jar</span></td>
    <td colspan="1" rowspan="1">Jars to add to the classpath.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.override.jars</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">hdfs:///user/templeton/ugi.jar</span></td>
    <td colspan="1" rowspan="1">Jars to add to the HADOOP_CLASSPATH for all Map Reduce jobs.
        These jars must exist on HDFS.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.override.enabled</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">false</span></td>
    <td colspan="1" rowspan="1">Enable the override path in templeton.override.jars</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.streaming.jar</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">hdfs:///user/templeton/hadoop-streaming.jar</span></td>
    <td colspan="1" rowspan="1">The hdfs path to the Hadoop streaming jar file.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hadoop</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">${env.HADOOP_PREFIX}/bin/hadoop</span></td>
    <td colspan="1" rowspan="1">The path to the Hadoop executable.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.pig.archive</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">hdfs:///user/templeton/pig-0.10.1.tar.gz</span></td>
    <td colspan="1" rowspan="1">The path to the Pig archive.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.pig.path</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">pig-0.10.1.tar.gz/pig-0.10.1/bin/pig</span></td>
    <td colspan="1" rowspan="1">The path to the Pig executable.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hcat</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">${env.HCAT_PREFIX}/bin/hcat</span></td>
    <td colspan="1" rowspan="1">The path to the Hcatalog executable.</td>
  
</tr>

 
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hive.archive</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">hdfs:///user/templeton/hive-0.10.0.tar.gz</span></td>
    <td colspan="1" rowspan="1">The path to the Hive archive.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hive.path</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">hive-0.10.0.tar.gz/hive-0.10.0/bin/hive</span></td>
    <td colspan="1" rowspan="1">The path to the Hive executable.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hive.properties</strong></td>
    <td colspan="1" rowspan="1">
<span class="codefrag">hive.metastore.local=false,
hive.metastore.uris=thrift://localhost:9933,
hive.metastore.sasl.enabled=false</span></td>
    <td colspan="1" rowspan="1">Properties to set when running hive.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.exec.encoding</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">UTF-8</span></td>
    <td colspan="1" rowspan="1">The encoding of the stdout and stderr data.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.exec.timeout</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">10000</span></td>
    <td colspan="1" rowspan="1">How long in milliseconds a program is allowed to run on the
      Templeton box.
    </td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.exec.max-procs</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">16</span></td>
    <td colspan="1" rowspan="1">The maximum number of processes allowed to run at once.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.exec.max-output-bytes</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">1048576</span></td>
    <td colspan="1" rowspan="1">The maximum number of bytes from stdout or stderr stored in ram.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.controller.mr.child.opts</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">-server -Xmx256m -Djava.net.preferIPv4Stack=true</span></td>
    <td colspan="1" rowspan="1">Java options to be passed to templeton controller map task.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.exec.envs</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">HADOOP_PREFIX,HADOOP_HOME,JAVA_HOME,HIVE_HOME</span></td>
    <td colspan="1" rowspan="1">The environment variables passed through to exec.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.zookeeper.hosts</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">127.0.0.1:2181</span></td>
    <td colspan="1" rowspan="1">ZooKeeper servers, as comma separated host:port pairs</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.zookeeper.session-timeout</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">30000</span></td>
    <td colspan="1" rowspan="1">ZooKeeper session timeout in milliseconds</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.callback.retry.interval</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">10000</span></td>
    <td colspan="1" rowspan="1">How long to wait between callback retry attempts in milliseconds</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.callback.retry.attempts</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">5</span></td>
    <td colspan="1" rowspan="1">How many times to retry the callback</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.storage.class</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">org.apache.hcatalog.templeton.tool.ZooKeeperStorage</span></td>
    <td colspan="1" rowspan="1">The class to use as storage</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.storage.root</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">/templeton-hadoop</span></td>
    <td colspan="1" rowspan="1">The path to the directory to use for storage</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hdfs.cleanup.interval</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">43200000</span></td>
    <td colspan="1" rowspan="1">The maximum delay between a thread's cleanup checks</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.hdfs.cleanup.maxage</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">604800000</span></td>
    <td colspan="1" rowspan="1">The maximum age of a templeton job</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.zookeeper.cleanup.interval</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">43200000</span></td>
    <td colspan="1" rowspan="1">The maximum delay between a thread's cleanup checks</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.zookeeper.cleanup.maxage</strong></td>
    <td colspan="1" rowspan="1"><span class="codefrag">604800000</span></td>
    <td colspan="1" rowspan="1">The maximum age of a templeton job</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.kerberos.secret</strong></td>
    <td colspan="1" rowspan="1">A random value</td>
    <td colspan="1" rowspan="1">The secret used to sign the HTTP cookie value. The default
        value is a random value. Unless multiple Templeton instances
        need to share the secret the random value is adequate.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.kerberos.principal</strong></td>
    <td colspan="1" rowspan="1">None</td>
    <td colspan="1" rowspan="1">The Kerberos principal to used by the server. As stated by the
        Kerberos SPNEGO specification, it should be
        <span class="codefrag">USER/${HOSTNAME}@{REALM}</span>. It does not have a
        default value.</td>
  
</tr>

  
<tr>
    
<td colspan="1" rowspan="1"><strong>templeton.kerberos.keytab</strong></td>
    <td colspan="1" rowspan="1">None</td>
    <td colspan="1" rowspan="1">The keytab file containing the credentials for the Kerberos
        principal.</td>
  
</tr>

  
</table>
</div>

  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2012-2013 <a href="http://www.apache.org/licenses/">The Apache Software Foundation</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
