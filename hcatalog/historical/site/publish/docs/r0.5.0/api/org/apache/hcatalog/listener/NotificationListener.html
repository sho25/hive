<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_35) on Wed Feb 13 10:57:02 PST 2013 -->
<TITLE>
NotificationListener (HCatalog 0.5.0-incubating API)
</TITLE>

<META NAME="date" CONTENT="2013-02-13">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="NotificationListener (HCatalog 0.5.0-incubating API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NotificationListener.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/hcatalog/listener/NotificationListener.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NotificationListener.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.hcatalog.listener</FONT>
<BR>
Class NotificationListener</H2>
<PRE>
Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by ">MetaStoreEventListener
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>NotificationListener</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>Configurable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>NotificationListener</B><DT>extends MetaStoreEventListener</DL>
</PRE>

<P>
Implementation of
 <CODE>MetaStoreEventListener</CODE> It sends
 message on two type of topics. One has name of form dbName.tblName On this
 topic, two kind of messages are sent: add/drop partition and
 finalize_partition message. Second topic has name "HCAT" and messages sent on
 it are: add/drop database and add/drop table. All messages also has a
 property named "HCAT_EVENT" set on them whose value can be used to configure
 message selector on subscriber side.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#conn">conn</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;Session</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#session">session</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#NotificationListener(org.apache.hadoop.conf.Configuration)">NotificationListener</A></B>(Configuration&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create message bus connection and session in constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#createConnection()">createConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;Topic</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#getTopic(java.lang.String)">getTopic</A></B>(String&nbsp;topicName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the topic object for the topicName, it also tries to reconnect
 if the connection appears to be broken.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onAddPartition(org.apache.hadoop.hive.metastore.events.AddPartitionEvent)">onAddPartition</A></B>(AddPartitionEvent&nbsp;partitionEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onAlterPartition(org.apache.hadoop.hive.metastore.events.AlterPartitionEvent)">onAlterPartition</A></B>(AlterPartitionEvent&nbsp;ape)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onAlterTable(org.apache.hadoop.hive.metastore.events.AlterTableEvent)">onAlterTable</A></B>(AlterTableEvent&nbsp;ate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onCreateDatabase(org.apache.hadoop.hive.metastore.events.CreateDatabaseEvent)">onCreateDatabase</A></B>(CreateDatabaseEvent&nbsp;dbEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onCreateTable(org.apache.hadoop.hive.metastore.events.CreateTableEvent)">onCreateTable</A></B>(CreateTableEvent&nbsp;tableEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onDropDatabase(org.apache.hadoop.hive.metastore.events.DropDatabaseEvent)">onDropDatabase</A></B>(DropDatabaseEvent&nbsp;dbEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onDropPartition(org.apache.hadoop.hive.metastore.events.DropPartitionEvent)">onDropPartition</A></B>(DropPartitionEvent&nbsp;partitionEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send dropped partition notifications.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onDropTable(org.apache.hadoop.hive.metastore.events.DropTableEvent)">onDropTable</A></B>(DropTableEvent&nbsp;tableEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send dropped table notifications.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#onLoadPartitionDone(org.apache.hadoop.hive.metastore.events.LoadPartitionDoneEvent)">onLoadPartitionDone</A></B>(LoadPartitionDoneEvent&nbsp;lpde)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/hcatalog/listener/NotificationListener.html#send(org.apache.hcatalog.messaging.HCatEventMessage, java.lang.String)">send</A></B>(<A HREF="../../../../org/apache/hcatalog/messaging/HCatEventMessage.html" title="class in org.apache.hcatalog.messaging">HCatEventMessage</A>&nbsp;hCatEventMessage,
     String&nbsp;topicName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_MetaStoreEventListener"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class MetaStoreEventListener</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>getConf, setConf</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="session"><!-- --></A><H3>
session</H3>
<PRE>
protected Session <B>session</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="conn"><!-- --></A><H3>
conn</H3>
<PRE>
protected Connection <B>conn</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="NotificationListener(org.apache.hadoop.conf.Configuration)"><!-- --></A><H3>
NotificationListener</H3>
<PRE>
public <B>NotificationListener</B>(Configuration&nbsp;conf)</PRE>
<DL>
<DD>Create message bus connection and session in constructor.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="onAddPartition(org.apache.hadoop.hive.metastore.events.AddPartitionEvent)"><!-- --></A><H3>
onAddPartition</H3>
<PRE>
public void <B>onAddPartition</B>(AddPartitionEvent&nbsp;partitionEvent)
                    throws MetaException</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onAddPartition</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onDropPartition(org.apache.hadoop.hive.metastore.events.DropPartitionEvent)"><!-- --></A><H3>
onDropPartition</H3>
<PRE>
public void <B>onDropPartition</B>(DropPartitionEvent&nbsp;partitionEvent)
                     throws MetaException</PRE>
<DL>
<DD>Send dropped partition notifications. Subscribers can receive these notifications for a
 particular table by listening on a topic named "dbName.tableName" with message selector
 string <A HREF="../../../../org/apache/hcatalog/common/HCatConstants.html#HCAT_EVENT">"HCAT_EVENT"</A> =
 <A HREF="../../../../org/apache/hcatalog/common/HCatConstants.html#HCAT_DROP_PARTITION_EVENT">"DROP_PARTITION"</A>.
 </br>
 TODO: DataNucleus 2.0.3, currently used by the HiveMetaStore for persistence, has been
 found to throw NPE when serializing objects that contain null. For this reason we override
 some fields in the StorageDescriptor of this notification. This should be fixed after
 HIVE-2084 "Upgrade datanucleus from 2.0.3 to 3.0.1" is resolved.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onDropPartition</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onCreateDatabase(org.apache.hadoop.hive.metastore.events.CreateDatabaseEvent)"><!-- --></A><H3>
onCreateDatabase</H3>
<PRE>
public void <B>onCreateDatabase</B>(CreateDatabaseEvent&nbsp;dbEvent)
                      throws MetaException</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onCreateDatabase</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onDropDatabase(org.apache.hadoop.hive.metastore.events.DropDatabaseEvent)"><!-- --></A><H3>
onDropDatabase</H3>
<PRE>
public void <B>onDropDatabase</B>(DropDatabaseEvent&nbsp;dbEvent)
                    throws MetaException</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onDropDatabase</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onCreateTable(org.apache.hadoop.hive.metastore.events.CreateTableEvent)"><!-- --></A><H3>
onCreateTable</H3>
<PRE>
public void <B>onCreateTable</B>(CreateTableEvent&nbsp;tableEvent)
                   throws MetaException</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onCreateTable</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onDropTable(org.apache.hadoop.hive.metastore.events.DropTableEvent)"><!-- --></A><H3>
onDropTable</H3>
<PRE>
public void <B>onDropTable</B>(DropTableEvent&nbsp;tableEvent)
                 throws MetaException</PRE>
<DL>
<DD>Send dropped table notifications. Subscribers can receive these notifications for
 dropped tables by listening on topic "HCAT" with message selector string
 <A HREF="../../../../org/apache/hcatalog/common/HCatConstants.html#HCAT_EVENT">"HCAT_EVENT"</A> =
 <A HREF="../../../../org/apache/hcatalog/common/HCatConstants.html#HCAT_DROP_TABLE_EVENT">"DROP_TABLE"</A>
 </br>
 TODO: DataNucleus 2.0.3, currently used by the HiveMetaStore for persistence, has been
 found to throw NPE when serializing objects that contain null. For this reason we override
 some fields in the StorageDescriptor of this notification. This should be fixed after
 HIVE-2084 "Upgrade datanucleus from 2.0.3 to 3.0.1" is resolved.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onDropTable</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="send(org.apache.hcatalog.messaging.HCatEventMessage, java.lang.String)"><!-- --></A><H3>
send</H3>
<PRE>
protected void <B>send</B>(<A HREF="../../../../org/apache/hcatalog/messaging/HCatEventMessage.html" title="class in org.apache.hcatalog.messaging">HCatEventMessage</A>&nbsp;hCatEventMessage,
                    String&nbsp;topicName)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>hCatEventMessage</CODE> - The HCatEventMessage being sent over JMS.<DD><CODE>topicName</CODE> - is the name on message broker on which message is sent.</DL>
</DD>
</DL>
<HR>

<A NAME="getTopic(java.lang.String)"><!-- --></A><H3>
getTopic</H3>
<PRE>
protected Topic <B>getTopic</B>(String&nbsp;topicName)
                  throws JMSException</PRE>
<DL>
<DD>Get the topic object for the topicName, it also tries to reconnect
 if the connection appears to be broken.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>topicName</CODE> - The String identifying the message-topic.
<DT><B>Returns:</B><DD>A <CODE>Topic</CODE> object corresponding to the specified topicName.
<DT><B>Throws:</B>
<DD><CODE>JMSException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createConnection()"><!-- --></A><H3>
createConnection</H3>
<PRE>
protected void <B>createConnection</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
protected void <B>finalize</B>()
                 throws Throwable</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>finalize</CODE> in class <CODE>Object</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>Throwable</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onLoadPartitionDone(org.apache.hadoop.hive.metastore.events.LoadPartitionDoneEvent)"><!-- --></A><H3>
onLoadPartitionDone</H3>
<PRE>
public void <B>onLoadPartitionDone</B>(LoadPartitionDoneEvent&nbsp;lpde)
                         throws MetaException</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onLoadPartitionDone</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onAlterPartition(org.apache.hadoop.hive.metastore.events.AlterPartitionEvent)"><!-- --></A><H3>
onAlterPartition</H3>
<PRE>
public void <B>onAlterPartition</B>(AlterPartitionEvent&nbsp;ape)
                      throws MetaException</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onAlterPartition</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onAlterTable(org.apache.hadoop.hive.metastore.events.AlterTableEvent)"><!-- --></A><H3>
onAlterTable</H3>
<PRE>
public void <B>onAlterTable</B>(AlterTableEvent&nbsp;ate)
                  throws MetaException</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>onAlterTable</CODE> in class <CODE>MetaStoreEventListener</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>MetaException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NotificationListener.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/hcatalog/listener/NotificationListener.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NotificationListener.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
